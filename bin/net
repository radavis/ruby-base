#!/usr/bin/env bash
#
# Manage a Docker network for connecting services

set -Eeuo pipefail

name=ruby-net

up() {
  docker network create --driver bridge ${name}
}

down() {
  docker network rm ${name}
}

info() {
  docker network inspect ${name}
}

opts="$*"
[[ $opts =~ "--up" ]] && up
[[ $opts =~ "--down" ]] && down
[[ $opts =~ "--info" ]] && info
[[ -z $opts ]] && { echo "Usage: bin/net --[up|down|info]"; exit 1; }
